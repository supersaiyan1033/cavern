(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{118:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(27),c=r.n(a),s=r(4),i=r(47),o=r(78),d=r(79),l=r(15),j="PRODUCT_LIST_REQUEST",u="PRODUCT_LIST_SUCCESS",p="PRODUCT_LIST_FAIL",b="PRODUCT_DETAILS_REQUEST",h="PRODUCT_DETAILS_SUCCESS",O="PRODUCT_DETAILS_FAIL",x="PRODUCT_DETAILS_RESET",f="PRODUCT_DELETE_REQUEST",v="PRODUCT_DELETE_SUCCESS",m="PRODUCT_DELETE_FAIL",y="PRODUCT_CREATE_REQUEST",g="PRODUCT_CREATE_SUCCESS",I="PRODUCT_CREATE_FAIL",E="PRODUCT_CREATE_RESET",S="PRODUCT_UPDATE_REQUEST",C="PRODUCT_UPDATE_SUCCESS",R="PRODUCT_UPDATE_FAIL",_="PRODUCT_UPDATE_RESET",L="PRODUCT_CREATE_REVIEW_REQUEST",k="PRODUCT_CREATE_REVIEW_SUCCESS",T="PRODUCT_CREATE_REVIEW_FAIL",D="PRODUCT_CREATE_REVIEW_RESET",w="PRODUCT_TOP_REQUEST",A="PRODUCT_TOP_SUCCESS",U="PRODUCT_TOP_FAIL",P=r(30),N="CART_ADD_ITEM",G="CART_ADD_REQUEST",F="CART_UPDATE",M="CART_REMOVE_ITEM",Q="CART_REMOVE_SUCCESS",q="CART_UPDATE_SUCCESS",V="CART_GET_REQUEST",B="CART_REMOVE_REQUEST",Y="CART_SAVE_SHIPPING_ADDRESS",H="CART_GET_SHIPPING_ADDRESS",K="CART_SAVE_PAYMENT_METHOD",J="CART_GET_PAYMENT_METHOD",z="CART_CLEAR_ITEMS",W="USER_LOGIN_REQUEST",X="USER_LOGIN_SUCCESS",Z="USER_LOGIN_FAIL",$="USER_LOGOUT",ee="USER_REGISTER_REQUEST",te="USER_REGISTER_SUCCESS",re="USER_REGISTER_FAIL",ne="USER_DETAILS_REQUEST",ae="USER_DETAILS_SUCCESS",ce="USER_DETAILS_FAIL",se="USER_DETAILS_RESET",ie="USER_UPDATE_PROFILE_REQUEST",oe="USER_UPDATE_PROFILE_SUCCESS",de="USER_UPDATE_PROFILE_FAIL",le="USER_UPDATE_PROFILE_RESET",je="USER_LIST_REQUEST",ue="USER_LIST_SUCCESS",pe="USER_LIST_FAIL",be="USER_LIST_RESET",he="USER_DELETE_REQUEST",Oe="USER_DELETE_SUCCESS",xe="USER_DELETE_FAIL",fe="USER_UPDATE_REQUEST",ve="USER_UPDATE_SUCCESS",me="USER_UPDATE_FAIL",ye="USER_UPDATE_RESET",ge="ORDER_CREATE_REQUEST",Ie="ORDER_CREATE_SUCCESS",Ee="ORDER_CREATE_FAIL",Se="ORDER_CREATE_RESET",Ce="ORDER_DETAILS_REQUEST",Re="ORDER_DETAILS_SUCCESS",_e="ORDER_DETAILS_FAIL",Le="ORDER_CANCEL_REQUEST",ke="ORDER_CANCEL_SUCCESS",Te="ORDER_CANCEL_FAIL",De="ORDER_RETURN_REQUEST",we="ORDER_RETURN_SUCCESS",Ae="ORDER_RETURN_FAIL",Ue="ORDER_PAY_REQUEST",Pe="ORDER_PAY_SUCCESS",Ne="ORDER_PAY_FAIL",Ge="ORDER_PAY_RESET",Fe="ORDER_LIST_MY_REQUEST",Me="ORDER_LIST_MY_SUCCESS",Qe="ORDER_LIST_MY_FAIL",qe="ORDER_LIST_MY_RESET",Ve="ORDER_LIST_REQUEST",Be="ORDER_LIST_SUCCESS",Ye="ORDER_LIST_FAIL",He="ORDER_DELIVER_REQUEST",Ke="ORDER_DELIVER_SUCCESS",Je="ORDER_DELIVER_FAIL",ze="ORDER_DELIVER_RESET",We="VERIFIED_SELLERS_SUCCESS",Xe="VERIFIED_SELLERS_REQUEST",Ze="VERIFIED_SELLERS_FAIL",$e="VERIFIED_SELLERS_RESET",et="UNVERIFIED_SELLERS_SUCCESS",tt="UNVERIFIED_SELLERS_REQUEST",rt="UNVERIFIED_SELLERS_FAIL",nt="UNVERIFIED_SELLERS_RESET",at="ADMINS_LIST_SUCCESS",ct="ADMINS_LIST_REQUEST",st="ADMINS_LIST_FAIL",it="ADMINS_LIST_RESET",ot="DELIVER_PRODUCTS_SUCCESS",dt="DELIVER_PRODUCTS_REQUEST",lt="DELIVER_PRODUCTS_FAIL",jt="DELIVER_PRODUCTS_RESET",ut="RETURN_PRODUCTS_SUCCESS",pt="RETURN_PRODUCTS_REQUEST",bt="RETURN_PRODUCTS_FAIL",ht="RETURN_PRODUCTS_RESET",Ot="ADDSTOCKS_NEW_SUCCESS",xt="ADDSTOCKS_NEW_REQUEST",ft="ADDSTOCKS_NEW_FAIL",vt="ADDSTOCKS_NEW_RESET",mt="ADDSTOCKS_OLD_SUCCESS",yt="ADDSTOCKS_OLD_REQUEST",gt="ADDSTOCKS_OLD_FAIL",It="ADDSTOCKS_OLD_RESET",Et=Object(i.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{loading:!0,products:[]};case u:return{loading:!1,products:t.payload,page:t.payload.page,pages:t.payload.pages};case p:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(l.a)({loading:!0},e);case h:return console.log(t.payload),{loading:!1,product:t.payload};case O:return console.log(t.payload),{loading:!1,error:t.payload};case x:return{loading:!0,product:{}};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loading:!0};case v:return{loading:!1,success:!0};case m:return{loading:!1,error:t.payload};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0};case g:return{loading:!1,success:!0,product:t.payload};case I:return{loading:!1,error:t.payload};case E:return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{loading:!0};case C:return{loading:!1,success:!0,product:t.payload};case R:return{loading:!1,error:t.payload};case _:return{product:{}};default:return e}},productReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{loading:!0};case k:return{loading:!1,success:!0};case T:return{loading:!1,error:t.payload};case D:return{};default:return e}},productTopRated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{loading:!0,products:[]};case A:return{loading:!1,products:t.payload};case U:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:case V:return{loading:!0,cartItems:[]};case F:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,cartItems:t.payload});case q:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,cartItems:e.cartItems});case N:var r=t.payload,n=e.cartItems.find((function(e){return e.stockId.stockId===r.stockId.stockId}));return n?Object(l.a)(Object(l.a)({},e),{},{loading:!0,cartItems:e.cartItems.map((function(e){return e.stockId.stockId===n.stockId.stockId?r:e}))}):Object(l.a)(Object(l.a)({},e),{},{loading:!1,cartItems:[].concat(Object(P.a)(e.cartItems),[r])});case B:return{loading:!0,cartItems:e.cartItems};case M:return Object(l.a)(Object(l.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.stockId.stockId!==t.payload})),loading:!0});case Q:return Object(l.a)(Object(l.a)({},e),{},{cartItems:e.cartItems,loading:!1});case z:return Object(l.a)(Object(l.a)({},e),{},{cartItems:[]});default:return e}},shipping:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{shippingAddress:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(l.a)(Object(l.a)({},e),{},{fetching:!0,shippingAddress:t.payload});case H:return Object(l.a)(Object(l.a)({},e),{},{fetching:!1,shippingAddress:e.shippingAddress});default:return e}},payment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{paymentMethod:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(l.a)(Object(l.a)({},e),{},{getting:!0,paymentMethod:t.payload});case J:return Object(l.a)(Object(l.a)({},e),{},{getting:!1,paymentMethod:e.paymentMethod});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return{loading:!0};case X:return{loading:!1,userInfo:t.payload};case Z:return{loading:!1,error:t.payload};case $:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return{loading:!0};case te:return{loading:!1,userInfo:t.payload};case re:return{loading:!1,error:t.payload};case $:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case ae:return{loading:!1,user:t.payload};case ce:return{loading:!1,error:t.payload};case se:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return{loading:!0};case oe:return{loading:!1,success:!0,userInfo:t.payload};case de:return{loading:!1,error:t.payload};case le:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return{loading:!0};case ue:return{loading:!1,users:t.payload};case pe:return{loading:!1,error:t.payload};case be:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return{loading:!0};case Oe:return{loading:!1,success:!0};case xe:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return{loading:!0};case ve:return{loading:!1,success:!0};case me:return{loading:!1,error:t.payload};case ye:return{user:{}};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return{loading:!0};case Ie:return{loading:!1,success:!0,order:t.payload};case Ee:return{loading:!1,error:t.payload};case Se:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case Re:return{loading:!1,order:t.payload};case _e:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return{loading:!0};case Pe:return{loading:!1,success:!0};case Ne:return{loading:!1,error:t.payload};case Ge:return{};default:return e}},orderListMy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return{loading:!0};case Me:return{loading:!1,orders:t.payload};case Qe:return{loading:!1,error:t.payload};case qe:return{orders:[]};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve:return{loading:!0};case Be:return{loading:!1,orders:t.payload};case Ye:return{loading:!1,error:t.payload};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case He:return{loading:!0};case Ke:return{loading:!1,success:!0};case Je:return{loading:!1,error:t.payload};case ze:return{};default:return e}},cancelOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return{fetching:!0};case ke:return{fetching:!1,success:t.payload};case Te:return{fetching:!1,wrong:t.payload};default:return e}},returnOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:return{getting:!0};case we:return{getting:!1,succeed:t.payload};case Ae:return{getting:!1,mistake:t.payload};default:return e}},verifiedSellers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe:return{loading:!0};case We:return{loading:!1,verifiedSellers:t.payload};case Ze:return{loading:!1,error:t.payload};case $e:return{verifiedSellers:null};default:return e}},unverifiedSellers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tt:return{loading:!0};case et:return{loading:!1,unverifiedSellers:t.payload};case rt:return{loading:!1,error:t.payload};case nt:return{unverifiedSellers:null};default:return e}},adminsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct:return{loading:!0};case at:return{loading:!1,adminsList:t.payload};case st:return{loading:!1,error:t.payload};case it:return{adminsList:null};default:return e}},returnProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt:return{loading:!0};case ut:return{loading:!1,returnProducts:t.payload};case bt:return{loading:!1,error:t.payload};case ht:return{returnProducts:null};default:return e}},deliverProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dt:return{loading:!0};case ot:return{loading:!1,deliverProducts:t.payload};case lt:return{loading:!1,error:t.payload};case jt:return{deliverProducts:null};default:return e}},addNewStocks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xt:return{loading:!0};case Ot:return{loading:!1,addNewStocks:t.payload};case ft:return{loading:!1,error:t.payload};case vt:return{addNewStocks:null};default:return e}},addOldStocks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yt:return{loading:!0};case mt:return{loading:!1,addOldStocks:t.payload};case gt:return{loading:!1,error:t.payload};case It:return{addOldStocks:null};default:return e}}}),St=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],Ct=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,Rt=(localStorage.getItem("shippingAddress")&&JSON.parse(localStorage.getItem("shippingAddress")),{cart:{cartItems:St},userLogin:{userInfo:Ct},shipping:{shippingAddress:""},verifiedSellers:{verifiedSellers:[]},unverifiedSellers:{unverifiedSellers:[]},adminsList:{adminsList:[]},deliverProducts:{deliverProducts:[]},returnProducts:{returnProducts:[]},addNewStocks:{addNewstocks:[]},addOldStocks:{addOldStocks:[]}}),_t=[o.a],Lt=Object(i.createStore)(Et,Rt,Object(d.composeWithDevTools)(i.applyMiddleware.apply(void 0,_t))),kt=(r(91),r(92),r(124)),Tt=r(12),Dt=r(19),wt=r(133),At=r(123),Ut=r(83),Pt=r(130),Nt=r(13),Gt=r(9),Ft=r(131),Mt=r(80),Qt=r(81),qt=r(0);var Vt=function(){var e=Object(n.useState)(""),t=Object(Gt.a)(e,2),r=t[0],a=t[1],c=Object(Dt.k)();return Object(qt.jsx)("div",{children:Object(qt.jsx)(Ft.a,{onSubmit:function(e){e.preventDefault(),r?c.push("/?keyword=".concat(r,"&page=1")):c.push(c.push(c.location.pathname))},inline:!0,children:Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Mt.a,{sm:9,children:Object(qt.jsx)(Ft.a.Control,{type:"text",size:"sm",name:"q",onChange:function(e){return a(e.target.value)},className:"mr-sm-2 ml-sm-5"})}),Object(qt.jsx)(Mt.a,{sm:3,children:Object(qt.jsx)(Qt.a,{type:"submit",size:"sm",variant:"outline-success",className:"p-2",children:"Submit"})})]})})})},Bt=r(6),Yt=r.n(Bt),Ht=r(10),Kt=r(11),Jt=r.n(Kt),zt=function(e){return function(){var t=Object(Ht.a)(Yt.a.mark((function t(r,n){var a,c,s,i,o;return Yt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ne}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json"}},t.next=6,Jt.a.get("/api/users/".concat(e,"/").concat(c.role),s);case 6:i=t.sent,o=i.data,r({type:ae,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:ce,payload:t.t0.response.data.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()};var Wt=function(){var e=Object(s.c)((function(e){return e.userLogin})).userInfo,t=Object(s.b)(),r=function(){t((function(e){localStorage.removeItem("userInfo"),e({type:$}),e({type:se}),e({type:qe}),e({type:be}),e({type:$e}),e({type:nt}),e({type:it}),e({type:ht}),e({type:jt})}))};return Object(qt.jsx)("header",{children:Object(qt.jsx)(wt.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(qt.jsxs)(kt.a,{fluid:!0,children:[Object(qt.jsx)(wt.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(qt.jsx)(wt.a.Collapse,{id:"basic-navbar-nav",children:e?"buyer"==e.role?Object(qt.jsxs)(At.a,{className:"row",children:[Object(qt.jsxs)(Ut.a,{className:"ml-auto",children:[Object(qt.jsx)(Nt.LinkContainer,{to:"/",children:Object(qt.jsx)(wt.a.Brand,{children:"Shopping Cavern"})}),Object(qt.jsx)(Vt,{})]}),Object(qt.jsxs)(Ut.a,{className:"ml-auto",children:[Object(qt.jsx)(Nt.LinkContainer,{to:"/cart",children:Object(qt.jsxs)(Ut.a.Link,{children:[Object(qt.jsx)("i",{className:"fas fa-shopping-cart"}),"Cart"]})}),Object(qt.jsxs)(Pt.a,{title:e.name,id:"username",children:[Object(qt.jsx)(Nt.LinkContainer,{to:"/profile",children:Object(qt.jsx)(Pt.a.Item,{children:"Profile"})}),Object(qt.jsx)(Pt.a.Item,{onClick:r,children:"Logout"})]})]})]}):"seller"==e.role?Object(qt.jsx)(At.a,{children:Object(qt.jsxs)(Ut.a,{className:"ml-auto",children:[Object(qt.jsx)(Nt.LinkContainer,{to:"/",children:Object(qt.jsx)(wt.a.Brand,{children:"Shopping Cavern"})}),Object(qt.jsxs)(Pt.a,{title:"Add Stocks",id:"username",children:[Object(qt.jsx)(Nt.LinkContainer,{to:"/addnewstocks",children:Object(qt.jsx)(Pt.a.Item,{children:"New"})}),Object(qt.jsx)(Nt.LinkContainer,{to:"/addoldstocks",children:Object(qt.jsx)(Pt.a.Item,{children:"Existing"})})]}),Object(qt.jsx)(Nt.LinkContainer,{to:"/temp",children:Object(qt.jsx)(Pt.a.Item,{children:"Orders"})}),Object(qt.jsx)(Nt.LinkContainer,{to:"/temp",children:Object(qt.jsx)(Pt.a.Item,{children:"Offers"})}),Object(qt.jsxs)(Pt.a,{title:e.name,id:"username",children:[Object(qt.jsx)(Nt.LinkContainer,{to:"/profile",children:Object(qt.jsx)(Pt.a.Item,{children:"Profile"})}),Object(qt.jsx)(Pt.a.Item,{onClick:r,children:"Logout"})]})]})}):Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Ut.a,{className:"ml-auto",children:Object(qt.jsx)(Nt.LinkContainer,{to:"/",children:Object(qt.jsx)(wt.a.Brand,{children:"Shopping Cavern"})})}),Object(qt.jsxs)(Ut.a,{className:"ml-auto",children:[Object(qt.jsx)(Nt.LinkContainer,{to:"/admins",children:Object(qt.jsx)(Ut.a.Link,{children:"Admins"})}),Object(qt.jsxs)(Pt.a,{title:"Sellers",id:"adminmenue",children:[Object(qt.jsx)(Nt.LinkContainer,{to:"/unverifiedsellers",children:Object(qt.jsx)(Pt.a.Item,{children:"Approve"})}),Object(qt.jsx)(Nt.LinkContainer,{to:"/verifiedsellers",children:Object(qt.jsx)(Pt.a.Item,{children:"Remove"})})]}),Object(qt.jsxs)(Pt.a,{title:"Products",id:"adminmenue",children:[Object(qt.jsx)(Nt.LinkContainer,{to:"/deliverproducts",children:Object(qt.jsx)(Pt.a.Item,{children:"Deliver"})}),Object(qt.jsx)(Nt.LinkContainer,{to:"/returnproducts",children:Object(qt.jsx)(Pt.a.Item,{children:"Return"})})]}),Object(qt.jsxs)(Pt.a,{title:"Account",id:"adminmenue",children:[Object(qt.jsx)(Nt.LinkContainer,{to:"/profile",children:Object(qt.jsx)(Pt.a.Item,{children:"Profile"})}),Object(qt.jsx)(Pt.a.Item,{onClick:r,children:"Logout"})]})]})]}):Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Nt.LinkContainer,{to:"/",children:Object(qt.jsx)(wt.a.Brand,{children:"Shopping Cavern"})}),Object(qt.jsx)(Vt,{}),Object(qt.jsxs)(Ut.a,{className:"ml-auto",children:[Object(qt.jsx)(Nt.LinkContainer,{to:"/login",children:Object(qt.jsxs)(Ut.a.Link,{children:[Object(qt.jsx)("i",{className:"fas fa-user"}),"  Login"]})}),Object(qt.jsx)(Nt.LinkContainer,{to:"/register",children:Object(qt.jsxs)(Ut.a.Link,{children:[Object(qt.jsx)("i",{className:"fas fa-user"}),"  Register"]})})]})]})})]})})})};var Xt=function(){return Object(qt.jsx)("footer",{children:Object(qt.jsx)(kt.a,{children:Object(qt.jsx)(At.a,{children:Object(qt.jsx)(Mt.a,{className:"text-center py-3",children:"Copyright \xa9 Shopping Cavern"})})})})},Zt=r(134);var $t=function(e){var t=e.value,r=e.text,n=e.color;return Object(qt.jsxs)("div",{className:"rating",children:[Object(qt.jsx)("span",{children:Object(qt.jsx)("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(qt.jsx)("span",{children:Object(qt.jsx)("i",{style:{color:n},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(qt.jsx)("span",{children:Object(qt.jsx)("i",{style:{color:n},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(qt.jsx)("span",{children:Object(qt.jsx)("i",{style:{color:n},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(qt.jsx)("span",{children:Object(qt.jsx)("i",{style:{color:n},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(qt.jsx)("span",{children:r&&r})]})};var er=function(e){var t=e.product;return Object(qt.jsxs)(Zt.a,{className:"my-3 p-3 rounded",children:[Object(qt.jsx)(Tt.Link,{to:"/product/".concat(t.stockId),children:Object(qt.jsx)(Zt.a.Img,{src:t.productId.image})}),Object(qt.jsxs)(Zt.a.Body,{children:[Object(qt.jsx)(Tt.Link,{to:"/product/".concat(t.stockId),children:Object(qt.jsx)(Zt.a.Title,{as:"div",children:Object(qt.jsx)("strong",{children:t.productId.name})})}),Object(qt.jsx)(Zt.a.Text,{as:"div",children:Object(qt.jsx)("div",{className:"my-3",children:Object(qt.jsx)($t,{value:t.productId.rating,text:"".concat(t.productId.votes," reviews"),color:"#f8e825"})})}),Object(qt.jsxs)(Zt.a.Text,{as:"h3",children:["\u20b9",t.price]})]})]})},tr=r(125);var rr=function(){return Object(qt.jsx)(tr.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(qt.jsx)("span",{className:"sr-only",children:"Loading..."})})},nr=r(135);var ar=function(e){var t=e.variant,r=e.children,a=Object(n.useState)(!0),c=Object(Gt.a)(a,2),s=c[0],i=c[1];return s?Object(qt.jsx)(nr.a,{variant:t,onClose:function(){return i(!1)},dismissible:!0,children:r}):Object(qt.jsx)("div",{})},cr=r(136);var sr=function(e){var t=e.pages,r=e.page,n=e.keyword,a=void 0===n?"":n,c=e.isAdmin,s=void 0!==c&&c;return a&&(a=a.split("?keyword=")[1].split("&")[0]),t>1&&Object(qt.jsx)(cr.a,{children:Object(P.a)(Array(t).keys()).map((function(e){return Object(qt.jsx)(Nt.LinkContainer,{to:s?"/admin/productlist/?keyword=".concat(a,"&page=").concat(e+1):"/?keyword=".concat(a,"&page=").concat(e+1),children:Object(qt.jsx)(cr.a.Item,{active:e+1===r,children:e+1})},e+1)}))})},ir=r(132),or=r(126),dr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(Ht.a)(Yt.a.mark((function t(r){var n,a;return Yt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:j}),t.next=4,Jt.a.get("/api/products".concat(e));case 4:n=t.sent,a=n.data,console.log(a),r({type:u,payload:a}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({type:p,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},lr=function(e){return function(){var t=Object(Ht.a)(Yt.a.mark((function t(r){var n,a;return Yt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),r({type:b}),t.next=5,Jt.a.get("/api/product/".concat(e));case 5:n=t.sent,a=n.data,console.log(a),r({type:h,payload:a}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:O,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()};var jr=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.productTopRated})),r=t.error,a=t.loading,c=t.products;return Object(n.useEffect)((function(){e(function(){var e=Object(Ht.a)(Yt.a.mark((function e(t){var r,n;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:w}),e.next=4,Jt.a.get("/api/products/top/");case 4:r=e.sent,n=r.data,t({type:A,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:U,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),a?Object(qt.jsx)(rr,{}):r?Object(qt.jsx)(ar,{variant:"danger",children:r}):Object(qt.jsx)(ir.a,{pause:"hover",className:"bg-dark",children:c.map((function(e){return Object(qt.jsx)(ir.a.Item,{children:Object(qt.jsxs)(Tt.Link,{to:"/product/".concat(e.stockId),children:[Object(qt.jsx)(or.a,{src:e.productId.image,alt:e.productId.name,fluid:!0}),Object(qt.jsx)(ir.a.Caption,{className:"carousel.caption",children:Object(qt.jsxs)("h4",{children:[e.productId.name,"(\u20b9",e.price,")"]})})]})},e.stockId)}))})};var ur=function(e){var t=e.history,r=Object(s.b)(),a=Object(s.c)((function(e){return e.productList})),c=a.error,i=a.loading,o=a.products,d=a.page,l=a.pages,j=t.location.search;return Object(n.useEffect)((function(){r(dr(j))}),[r,j]),Object(qt.jsxs)("div",{children:[!j&&Object(qt.jsx)(jr,{}),""==j?Object(qt.jsx)("h1",{children:"Latest Products"}):Object(qt.jsx)("h1",{children:"Search Results"}),i?Object(qt.jsx)(rr,{}):c?Object(qt.jsx)(ar,{variant:"danger",children:c}):Object(qt.jsxs)("div",{children:[Object(qt.jsx)(At.a,{children:o.map((function(e){return Object(qt.jsx)(Mt.a,{sm:12,md:6,lg:4,xl:3,children:Object(qt.jsx)(er,{product:e})},e.stockId)}))}),Object(qt.jsx)(sr,{page:d,pages:l,keyword:j})]})]})},pr=r(137);var br=function(e){var t=e.match,r=e.history,a=Object(n.useState)(1),c=Object(Gt.a)(a,2),i=c[0],o=c[1],d=Object(n.useState)(0),l=Object(Gt.a)(d,2),j=l[0],u=l[1],p=Object(n.useState)(""),b=Object(Gt.a)(p,2),h=b[0],O=b[1],f=Object(s.b)(),v=Object(s.c)((function(e){return e.productDetails})),m=v.loading,y=v.error,g=v.product,I=Object(s.c)((function(e){return e.userLogin})).userInfo,E=Object(s.c)((function(e){return e.productReviewCreate})),S=E.loading,C=E.error,R=E.success;return Object(n.useEffect)((function(){f({type:x}),R&&(u(0),O(""),f({type:D})),f(lr(t.params.id)),console.log(g,t.params.id)}),[f,t.params.id,R]),Object(qt.jsxs)("div",{children:[Object(qt.jsx)(Tt.Link,{to:"/",className:"btn btn-light my-3",children:"Go Back"}),m?Object(qt.jsx)(rr,{}):y?Object(qt.jsx)(ar,{variant:"danger",children:y}):Object(qt.jsx)("div",{children:g.productId?Object(qt.jsxs)("div",{children:[Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Mt.a,{md:6,children:Object(qt.jsx)(or.a,{src:g.productId.image,alt:g.productId.name,fluid:!0})}),Object(qt.jsx)(Mt.a,{md:3,children:Object(qt.jsxs)(pr.a,{variant:"flush",children:[Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsx)("h3",{children:g.productId.name})}),Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsx)($t,{value:g.productId.rating,text:"".concat(g.productId.votes," reviews"),color:"#f8e825"})}),Object(qt.jsxs)(pr.a.Item,{children:["Price:  \u20b9",g.price]}),Object(qt.jsxs)(pr.a.Item,{children:["Description: ",g.productId.details]})]})}),Object(qt.jsx)(Mt.a,{md:3,children:Object(qt.jsx)(Zt.a,{children:Object(qt.jsxs)(pr.a,{variant:"flush",children:[!I&&Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsx)(ar,{variant:"info",children:"Login to Add to cart"})}),Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Mt.a,{children:"Price:"}),Object(qt.jsx)(Mt.a,{children:Object(qt.jsxs)("strong",{children:[" \u20b9",g.price]})})]})}),Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Mt.a,{children:"Status:"}),Object(qt.jsx)(Mt.a,{children:g.availableQuantity>0?"In Stock":"Out of Stock"})]})}),g.availableQuantity>0&&Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Mt.a,{children:"Qty"}),Object(qt.jsx)(Mt.a,{xs:"auto",className:"my-1",children:Object(qt.jsx)(Ft.a.Control,{as:"select",value:i,onChange:function(e){return o(e.target.value)},children:Object(P.a)(Array(g.availableQuantity).keys()).map((function(e){return Object(qt.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsx)(Qt.a,{onClick:function(){r.push("/cart/".concat(t.params.id,"?qty=").concat(i))},className:"btn-block",disabled:0==g.availableQuantity||!I,type:"button",children:"Add to Cart"})})]})})})]}),Object(qt.jsx)(At.a,{children:Object(qt.jsxs)(Mt.a,{md:6,children:[Object(qt.jsx)("h4",{children:"Reviews"}),0===g.reviews.length&&Object(qt.jsx)(ar,{variant:"info",children:"No Reviews"}),Object(qt.jsxs)(pr.a,{variant:"flush",children:[g.reviews.map((function(e){return Object(qt.jsxs)(pr.a.Item,{children:[Object(qt.jsx)("strong",{children:e.buyerId.name}),Object(qt.jsx)($t,{value:e.rating,color:"#f8e825"}),Object(qt.jsx)("p",{children:e.reviewedAt.substring(0,10)}),Object(qt.jsx)("p",{children:e.review})]},e.ratingId)})),Object(qt.jsxs)(pr.a.Item,{children:[Object(qt.jsx)("h4",{children:"Write a review"}),S&&Object(qt.jsx)(rr,{}),R&&Object(qt.jsx)(ar,{variant:"success",children:"Review Submitted"}),C&&Object(qt.jsx)(ar,{variant:"danger",children:C}),I?Object(qt.jsxs)(Ft.a,{onSubmit:function(e){e.preventDefault(),f(function(e,t,r,n){return function(){var a=Object(Ht.a)(Yt.a.mark((function a(c,s){var i,o,d;return Yt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c({type:L}),s().userLogin.userInfo,i={headers:{"Content-type":"application/json"}},a.next=6,Jt.a.post("/api/products/".concat(e,"/reviews/"),{review:r,rating:t,userId:n},i);case 6:o=a.sent,d=o.data,c({type:k,payload:d}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),c({type:T,payload:a.t0.response.data.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(g.productId.productId,j,h,I.buyerId))},children:[Object(qt.jsxs)(Ft.a.Group,{controlId:"rating",children:[Object(qt.jsx)(Ft.a.Label,{children:"Rating"}),Object(qt.jsxs)(Ft.a.Control,{as:"select",value:j,onChange:function(e){return u(e.target.value)},children:[Object(qt.jsx)("option",{value:"",children:"Select..."}),Object(qt.jsx)("option",{value:"1",children:"1 - Poor"}),Object(qt.jsx)("option",{value:"2",children:"2 - Fair"}),Object(qt.jsx)("option",{value:"3",children:"3 - Good"}),Object(qt.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(qt.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"comment",children:[Object(qt.jsx)(Ft.a.Label,{children:"Review"}),Object(qt.jsx)(Ft.a.Control,{as:"textarea",row:"5",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(qt.jsx)(Qt.a,{disabled:S,type:"submit",variant:"primary",children:"Submit"})]}):Object(qt.jsxs)(ar,{variant:"info",children:["Please ",Object(qt.jsx)(Tt.Link,{to:"/login",children:"login"})," to write a review"]})]})]})]})})]}):Object(qt.jsx)("div",{children:Object(qt.jsx)("h1",{children:"Error occured"})})})]})},hr=function(e,t){return function(){var r=Object(Ht.a)(Yt.a.mark((function r(n,a){var c,s,i,o,d,l;return Yt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:G}),c=a(),s=c.userLogin.userInfo,i={headers:{"Content-type":"application/json"}},r.next=5,Jt.a.put("/api/cart/product/".concat(e),{buyerId:s.buyerId,quantity:t},i);case 5:return o=r.sent,d=o.data,n({type:N,payload:d}),r.next=10,Jt.a.get("api/mycart/".concat(s.buyerId));case 10:l=r.sent,console.log(l),n({type:F,payload:l.data}),n({type:q});case 14:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},Or=function(){return function(){var e=Object(Ht.a)(Yt.a.mark((function e(t,r){var n,a,c;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:V}),n=r(),a=n.userLogin.userInfo,{headers:{"Content-type":"application/json"}},e.next=5,Jt.a.get("api/mycart/".concat(a.buyerId));case 5:c=e.sent,console.log(c),t({type:F,payload:c.data}),t({type:q});case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()};var xr=function(e){var t=e.match,r=e.location,a=e.history,c=t.params.id,i=r.search?Number(r.search.split("=")[1]):1,o=Object(s.b)(),d=Object(s.c)((function(e){return e.cart})),l=d.cartItems,j=d.loading,u=Object(n.useState)(!0),p=Object(Gt.a)(u,2),b=(p[0],p[1]);Object(n.useEffect)((function(){c?(o(hr(c,i)),b(!1),console.log(l)):(o(Or()),console.log(l))}),[o,c,i]);var h=function(e){o(function(e){return function(){var t=Object(Ht.a)(Yt.a.mark((function t(r,n){return Yt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:B}),t.next=3,Jt.a.delete("/api/cart/delete/".concat(e));case 3:r({type:M,payload:e}),r({type:Q});case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(qt.jsxs)(At.a,{children:[Object(qt.jsxs)(Mt.a,{md:8,children:[Object(qt.jsx)("h1",{children:"Shopping Cart"}),j?Object(qt.jsx)(rr,{}):l?0===l.length?Object(qt.jsxs)(ar,{variant:"info",children:["Your cart is empty ",Object(qt.jsx)(Tt.Link,{to:"/",children:"Go Back"})]}):Object(qt.jsx)(pr.a,{variant:"flush",children:l.map((function(e){return Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Mt.a,{md:2,children:Object(qt.jsx)(or.a,{src:e.stockId.productId.image,alt:e.stockId.productId.name,fluid:!0,rounded:!0})}),Object(qt.jsx)(Mt.a,{md:3,children:Object(qt.jsx)(Tt.Link,{to:"/product/".concat(e.stockId.stockId),children:e.stockId.productId.name})}),Object(qt.jsxs)(Mt.a,{md:2,children:["\u20b9",e.stockId.price]}),Object(qt.jsx)(Mt.a,{md:3,children:Object(qt.jsx)(Ft.a.Control,{as:"select",value:e.quantity,onChange:function(t){return o(hr(e.stockId.stockId,Number(t.target.value)))},children:Object(P.a)(Array(e.stockId.availableQuantity).keys()).map((function(e){return Object(qt.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(qt.jsx)(Mt.a,{md:1,children:Object(qt.jsx)(Qt.a,{type:"button",variant:"light",onClick:function(){return h(e.stockId.stockId)},children:Object(qt.jsx)("i",{className:"fas fa-trash"})})})]})},e.stockId.stockId)}))}):Object(qt.jsx)(rr,{})]}),Object(qt.jsx)(Mt.a,{md:4,children:l&&!j&&Object(qt.jsxs)(Zt.a,{children:[Object(qt.jsx)(pr.a,{variant:"flush",children:Object(qt.jsxs)(pr.a.Item,{children:[Object(qt.jsxs)("h2",{children:["Subtotal (",l.reduce((function(e,t){return e+t.quantity}),0),") items"]}),"\u20b9",l.reduce((function(e,t){return e+t.quantity*t.stockId.price}),0).toFixed(2)]})}),Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsx)(Qt.a,{type:"button",className:"btn-block",disabled:0===l.length,onClick:function(){a.push("/login?redirect=shipping")},children:"Proceed To Checkout"})})]})})]})};var fr=function(e){var t=e.children;return Object(qt.jsx)(kt.a,{children:Object(qt.jsx)(At.a,{className:"justify-content-md-center",children:Object(qt.jsx)(Mt.a,{xs:12,md:6,children:t})})})};var vr=function(e){var t=e.location,r=e.history,a=Object(n.useState)(""),c=Object(Gt.a)(a,2),i=c[0],o=c[1],d=Object(n.useState)(""),l=Object(Gt.a)(d,2),j=l[0],u=l[1],p=Object(n.useState)("buyer"),b=Object(Gt.a)(p,2),h=b[0],O=b[1],x=Object(s.b)(),f=t.search?t.search.split("=")[1]:"/",v=Object(s.c)((function(e){return e.userLogin})),m=v.error,y=v.loading,g=v.userInfo;return Object(n.useEffect)((function(){g&&r.push(f)}),[r,g,f]),Object(qt.jsxs)(fr,{children:[Object(qt.jsx)("h1",{children:"Sign In"}),m&&Object(qt.jsx)(ar,{variant:"danger",children:m}),y&&Object(qt.jsx)(rr,{}),Object(qt.jsxs)(Ft.a,{onSubmit:function(e){e.preventDefault(),x(function(e,t,r){return function(){var n=Object(Ht.a)(Yt.a.mark((function n(a){var c,s,i;return Yt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:W}),c={headers:{"Content-type":"application/json"}},n.next=5,Jt.a.post("/api/login/",{email:e,password:t,role:r},c);case 5:s=n.sent,i=s.data,a({type:X,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),a({type:Z,payload:n.t0.response.data.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(i,j,h))},children:[Object(qt.jsxs)(Ft.a.Group,{controlId:"email",children:[Object(qt.jsx)(Ft.a.Label,{children:"Email Address"}),Object(qt.jsx)(Ft.a.Control,{type:"email",placeholder:"Enter Email",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"password",children:[Object(qt.jsx)(Ft.a.Label,{children:"Password"}),Object(qt.jsx)(Ft.a.Control,{type:"password",placeholder:"Enter Password",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"role",children:[Object(qt.jsx)(Ft.a.Label,{children:"Select role"}),Object(qt.jsxs)(Ft.a.Control,{as:"select",custom:!0,value:h,onChange:function(e){return O(e.target.value)},children:[Object(qt.jsx)("option",{children:"buyer"}),Object(qt.jsx)("option",{children:"seller"}),Object(qt.jsx)("option",{children:"admin"})]})]}),Object(qt.jsx)(Qt.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(qt.jsx)(At.a,{className:"py-3",children:Object(qt.jsxs)(Mt.a,{children:["New Customer? ",Object(qt.jsx)(Tt.Link,{to:f?"/register?redirect=".concat(f):"/register",children:"Register"})]})})]})},mr=r(127),yr=r(128);var gr=function(e){var t=e.location,r=e.history,a=Object(n.useState)(""),c=Object(Gt.a)(a,2),i=c[0],o=c[1],d=Object(n.useState)(""),l=Object(Gt.a)(d,2),j=l[0],u=l[1],p=Object(n.useState)(""),b=Object(Gt.a)(p,2),h=b[0],O=b[1],x=Object(n.useState)(""),f=Object(Gt.a)(x,2),v=f[0],m=f[1],y=Object(n.useState)(""),g=Object(Gt.a)(y,2),I=g[0],E=g[1],S=Object(n.useState)(""),C=Object(Gt.a)(S,2),R=C[0],_=C[1],L=Object(n.useState)(""),k=Object(Gt.a)(L,2),T=k[0],D=k[1],w=Object(n.useState)("buyer"),A=Object(Gt.a)(w,2),U=A[0],P=A[1],N=Object(n.useState)(""),G=Object(Gt.a)(N,2),F=G[0],M=G[1],Q=Object(s.b)(),q=t.search?t.search.split("=")[1]:"/",V=Object(s.c)((function(e){return e.userRegister})),B=V.error,Y=V.loading,H=V.userInfo;Object(n.useEffect)((function(){H&&r.push(q)}),[r,H,q]);var K=function(e){e.preventDefault(),h!=v?E("Passwords do not match"):Q(function(e,t,r,n,a,c,s){return function(){var i=Object(Ht.a)(Yt.a.mark((function i(o){var d,l,j;return Yt.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,o({type:ee}),d={headers:{"Content-type":"application/json"}},i.next=5,Jt.a.post("/api/register/",{email:t,password:a,name:e,address:n,phone:r,role:c,company:s},d);case 5:l=i.sent,j=l.data,o({type:te,payload:j}),o({type:X,payload:j}),localStorage.setItem("userInfo",JSON.stringify(j)),i.next=15;break;case 12:i.prev=12,i.t0=i.catch(0),o({type:re,payload:i.t0.response.data.message});case 15:case"end":return i.stop()}}),i,null,[[0,12]])})));return function(e){return i.apply(this,arguments)}}()}(i,j,R,T,h,U,F))};return Object(qt.jsxs)(fr,{children:[Object(qt.jsx)("h1",{children:"Sign In"}),I&&Object(qt.jsx)(ar,{variant:"danger",children:I}),B&&Object(qt.jsx)(ar,{variant:"danger",children:B}),Y&&Object(qt.jsx)(rr,{}),Object(qt.jsxs)(mr.a,{defaultActiveKey:"home",transition:!1,id:"noanim-tab-example",children:[Object(qt.jsx)(yr.a,{eventKey:"home",title:"Buyer",onSelect:function(){return P("buyer")},children:Object(qt.jsxs)(Ft.a,{onSubmit:K,children:[Object(qt.jsx)("div",{style:{padding:"20px"}}),Object(qt.jsxs)(Ft.a.Group,{controlId:"name",children:[Object(qt.jsx)(Ft.a.Label,{children:"Name"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"name",placeholder:"Enter Name",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"email",children:[Object(qt.jsx)(Ft.a.Label,{children:"Email Address"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"mobile",children:[Object(qt.jsx)(Ft.a.Label,{children:"Mobile No"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"text",placeholder:"Enter Mobile no",value:R,onChange:function(e){return _(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"address",children:[Object(qt.jsx)(Ft.a.Label,{children:"Address"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"text",placeholder:"Enter Address",value:T,onChange:function(e){return D(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"password",children:[Object(qt.jsx)(Ft.a.Label,{children:"Password"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"password",placeholder:"Enter Password",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"passwordConfirm",children:[Object(qt.jsx)(Ft.a.Label,{children:"Confirm Password"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"password",placeholder:"Confirm Password",value:v,onChange:function(e){return m(e.target.value)}})]}),Object(qt.jsx)(Qt.a,{type:"submit",variant:"primary",children:"Register"})]})}),Object(qt.jsx)(yr.a,{eventKey:"profile",title:"Seller",onSelect:function(){return P("seller")},children:Object(qt.jsxs)(Ft.a,{onSubmit:K,children:[Object(qt.jsx)("div",{style:{padding:"20px"}}),Object(qt.jsxs)(Ft.a.Group,{controlId:"name",children:[Object(qt.jsx)(Ft.a.Label,{children:"Name"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"name",placeholder:"Enter Name",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"email",children:[Object(qt.jsx)(Ft.a.Label,{children:"Email Address"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"mobile",children:[Object(qt.jsx)(Ft.a.Label,{children:"Mobile No"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"text",placeholder:"Enter Mobile no",value:R,onChange:function(e){return _(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"company",children:[Object(qt.jsx)(Ft.a.Label,{children:"Company"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"text",placeholder:"Enter Company",value:F,onChange:function(e){return M(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"address",children:[Object(qt.jsx)(Ft.a.Label,{children:"Address"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"text",placeholder:"Enter Address",value:T,onChange:function(e){return D(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"password",children:[Object(qt.jsx)(Ft.a.Label,{children:"Password"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"password",placeholder:"Enter Password",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"passwordConfirm",children:[Object(qt.jsx)(Ft.a.Label,{children:"Confirm Password"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"password",placeholder:"Confirm Password",value:v,onChange:function(e){return m(e.target.value)}})]}),Object(qt.jsx)(Qt.a,{type:"submit",variant:"primary",children:"Register"})]})})]}),Object(qt.jsx)(At.a,{className:"py-3",children:Object(qt.jsxs)(Mt.a,{children:["Have an Account? ",Object(qt.jsx)(Tt.Link,{to:q?"/login?redirect=".concat(q):"/login",children:"Sign In"})]})})]})},Ir=r(129),Er=function(e){return function(){var t=Object(Ht.a)(Yt.a.mark((function t(r,n){var a,c,s,i,o;return Yt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Ce}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Jt.a.get("/api/order/".concat(e,"/"),s);case 6:i=t.sent,o=i.data,r({type:Re,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:_e,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()};var Sr=function(e){var t=e.history,r=Object(n.useState)(""),a=Object(Gt.a)(r,2),c=a[0],i=a[1],o=Object(n.useState)(""),d=Object(Gt.a)(o,2),l=d[0],j=d[1],u=Object(n.useState)(""),p=Object(Gt.a)(u,2),b=p[0],h=p[1],O=Object(n.useState)(""),x=Object(Gt.a)(O,2),f=x[0],v=x[1],m=Object(n.useState)(""),y=Object(Gt.a)(m,2),g=y[0],I=y[1],E=Object(n.useState)(""),S=Object(Gt.a)(E,2),C=S[0],R=S[1],_=Object(n.useState)(""),L=Object(Gt.a)(_,2),k=L[0],T=L[1],D=Object(n.useState)(""),w=Object(Gt.a)(D,2),A=w[0],U=w[1],P=Object(s.b)(),N=Object(s.c)((function(e){return e.userDetails})),G=N.error,F=N.loading,M=N.user,Q=Object(s.c)((function(e){return e.userLogin})).userInfo,q=Object(s.c)((function(e){return e.userUpdateProfile})).success,V=Object(s.c)((function(e){return e.orderListMy})),B=V.loading,Y=V.error,H=V.orders;return Object(n.useEffect)((function(){Q?M&&M.name&&!q?(i(M.name),j(M.email),R(M.address),I("seller"==M.role&&M.company),T(M.phone)):(P({type:le}),P(zt("buyer"==Q.role?Q.buyerId:"seller"==Q.role?Q.sellerId:Q.adminId)),"buyer"==Q.role&&P(function(){var e=Object(Ht.a)(Yt.a.mark((function e(t,r){var n,a,c,s,i;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Fe}),n=r(),a=n.userLogin.userInfo,c={headers:{"Content-type":"application/json"}},e.next=6,Jt.a.get("/api/myorders/".concat(a.buyerId),c);case 6:s=e.sent,i=s.data,t({type:Me,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Qe,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())):t.push("/login")}),[P,t,Q,M,q]),Object(qt.jsxs)(At.a,{className:"justify-content-center",children:[Q&&Object(qt.jsxs)(Mt.a,{md:"buyer"==Q.role?5:6,children:[Object(qt.jsx)("h2",{children:"User Profile"}),A&&Object(qt.jsx)(ar,{variant:"danger",children:A}),G&&Object(qt.jsx)(ar,{variant:"danger",children:G}),F&&Object(qt.jsx)(rr,{}),Object(qt.jsxs)(Ft.a,{onSubmit:function(e){e.preventDefault(),b!=f?U("Passwords do not match"):(P(function(e){return function(){var t=Object(Ht.a)(Yt.a.mark((function t(r,n){var a,c,s,i,o;return Yt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ie}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json"}},t.next=6,Jt.a.post("/api/profile/update/",{user:e,role:c.role},s);case 6:i=t.sent,o=i.data,r({type:oe,payload:o}),r({type:X,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:de,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()}({id:"buyer"==Q.role?M.buyerId:"seller"==Q.role?M.sellerId:M.adminId,name:c,email:l,password:b,address:C,company:g,phone:k})),h(""),v(""),U(""))},children:[Object(qt.jsxs)(Ft.a.Group,{controlId:"name",children:[Object(qt.jsx)(Ft.a.Label,{children:"Name"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"name",placeholder:"Enter name",value:c,onChange:function(e){return i(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"email",children:[Object(qt.jsx)(Ft.a.Label,{children:"Email Address"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:l,onChange:function(e){return j(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"phone",children:[Object(qt.jsx)(Ft.a.Label,{children:"Mobile no"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"text",placeholder:"Enter Mobile no",value:k,onChange:function(e){return T(e.target.value)}})]}),"seller"==Q.role&&Object(qt.jsxs)(Ft.a.Group,{controlId:"company",children:[Object(qt.jsx)(Ft.a.Label,{children:"Email Address"}),Object(qt.jsx)(Ft.a.Control,{required:!0,type:"email",placeholder:"Enter Company",value:g,onChange:function(e){return I(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"address",children:[Object(qt.jsx)(Ft.a.Label,{children:"Address"}),Object(qt.jsx)(Ft.a.Control,{required:!0,as:"textarea",placeholder:"Enter Address",value:C,onChange:function(e){return R(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"password",children:[Object(qt.jsx)(Ft.a.Label,{children:"Password"}),Object(qt.jsx)(Ft.a.Control,{type:"password",placeholder:"Enter Password",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"passwordConfirm",children:[Object(qt.jsx)(Ft.a.Label,{children:"Confirm Password"}),Object(qt.jsx)(Ft.a.Control,{type:"password",placeholder:"Confirm Password",value:f,onChange:function(e){return v(e.target.value)}})]}),Object(qt.jsx)(Qt.a,{type:"submit",variant:"primary",children:"Update"})]})]}),Q&&"buyer"==Q.role&&Object(qt.jsxs)(Mt.a,{md:7,children:[Object(qt.jsx)("h2",{children:"My Orders"}),B?Object(qt.jsx)(rr,{}):Y?Object(qt.jsx)(ar,{variant:"danger",children:Y}):Object(qt.jsxs)(Ir.a,{striped:!0,responsive:!0,className:"table-sm",children:[Object(qt.jsx)("thead",{children:Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("th",{children:"ID"}),Object(qt.jsx)("th",{children:"Date"}),Object(qt.jsx)("th",{children:"Total"}),Object(qt.jsx)("th",{children:"Details"}),Object(qt.jsx)("th",{})]})}),Object(qt.jsx)("tbody",{children:H.map((function(e){return Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("td",{children:e.orderId}),Object(qt.jsx)("td",{children:e.orderedAt.substring(0,10)}),Object(qt.jsxs)("td",{children:["\u20b9",e.totalAmount]}),Object(qt.jsx)("td",{children:Object(qt.jsx)(Nt.LinkContainer,{to:"/order/".concat(e.orderId),children:Object(qt.jsx)(Qt.a,{className:"btn-sm",children:"Details"})})})]},e.orderId)}))})]})]})]})};var Cr=function(e){var t=e.step1,r=e.step2,n=e.step3,a=e.step4;return Object(qt.jsxs)(Ut.a,{className:"justify-content-center mb-4",children:[Object(qt.jsx)(Ut.a.Item,{children:t?Object(qt.jsx)(Nt.LinkContainer,{to:"/login",children:Object(qt.jsx)(Ut.a.Link,{children:"Login"})}):Object(qt.jsx)(Ut.a.Link,{disabled:!0,children:"Login"})}),Object(qt.jsx)(Ut.a.Item,{children:r?Object(qt.jsx)(Nt.LinkContainer,{to:"/shipping",children:Object(qt.jsx)(Ut.a.Link,{children:"Shipping"})}):Object(qt.jsx)(Ut.a.Link,{disabled:!0,children:"Shipping"})}),Object(qt.jsx)(Ut.a.Item,{children:n?Object(qt.jsx)(Nt.LinkContainer,{to:"/payment",children:Object(qt.jsx)(Ut.a.Link,{children:"Payment"})}):Object(qt.jsx)(Ut.a.Link,{disabled:!0,children:"Payment"})}),Object(qt.jsx)(Ut.a.Item,{children:a?Object(qt.jsx)(Nt.LinkContainer,{to:"/placeorder",children:Object(qt.jsx)(Ut.a.Link,{children:"Place Order"})}):Object(qt.jsx)(Ut.a.Link,{disabled:!0,children:"Place Order"})})]})};var Rr=function(e){var t=e.history,r=Object(s.c)((function(e){return e.shipping})),a=r.shippingAddress,c=r.fetching,i=Object(s.b)(),o=Object(n.useState)(a),d=Object(Gt.a)(o,2),l=d[0],j=d[1];return Object(qt.jsxs)(fr,{children:[Object(qt.jsx)(Cr,{step1:!0,step2:!0}),Object(qt.jsx)("h1",{children:"Shipping"}),c?Object(qt.jsx)(rr,{}):Object(qt.jsxs)(Ft.a,{onSubmit:function(e){var r;e.preventDefault(),i((r=l,function(e){e({type:Y,payload:r}),e({type:H}),localStorage.setItem("shippingAddress",JSON.stringify(r))})),t.push("/payment")},children:[Object(qt.jsxs)(Ft.a.Group,{controlId:"address",children:[Object(qt.jsx)(Ft.a.Label,{children:"Address"}),Object(qt.jsx)(Ft.a.Control,{required:!0,as:"textarea",type:"text",placeholder:"Enter address",value:l||"",onChange:function(e){return j(e.target.value)}})]}),Object(qt.jsx)(Qt.a,{type:"submit",variant:"primary",children:"Continue"})]})]})};var _r=function(e){var t=e.history,r=Object(s.c)((function(e){return e.payment})),a=Object(s.c)((function(e){return e.shipping})).shippingAddress,c=(r.paymentMethod,r.getting),i=Object(s.b)(),o=Object(n.useState)("Cash on Delivery"),d=Object(Gt.a)(o,2),l=d[0],j=d[1];return a||t.push("/shipping"),Object(qt.jsxs)(fr,{children:[Object(qt.jsx)(Cr,{step1:!0,step2:!0,step3:!0}),c?Object(qt.jsx)(rr,{}):Object(qt.jsxs)(Ft.a,{onSubmit:function(e){var r;e.preventDefault(),i((r=l,function(e){e({type:K,payload:r}),e({type:J}),localStorage.setItem("paymentMethod",JSON.stringify(r))})),t.push("/placeorder")},children:[Object(qt.jsxs)(Ft.a.Group,{children:[Object(qt.jsx)(Ft.a.Label,{as:"legend",children:"Select Method"}),Object(qt.jsx)(Mt.a,{children:Object(qt.jsx)(Ft.a.Check,{type:"radio",label:"Cash on Delivery",id:"cod",name:"paymentMethod",value:"Cash on Delivery",onChange:function(e){return j(e.target.value)}})})]}),Object(qt.jsx)(Qt.a,{type:"submit",variant:"primary",children:"Continue"})]})]})};var Lr=function(e){var t=e.history,r=Object(s.c)((function(e){return e.orderCreate})),a=r.order,c=r.error,i=r.success,o=Object(s.b)(),d=Object(s.c)((function(e){return e.cart})),l=Object(s.c)((function(e){return e.shipping})),j=Object(s.c)((function(e){return e.payment})),u=l.fetching,p=l.shippingAddress,b=j.getting,h=j.paymentMethod,O=d.loading,x=d.cartItems;console.log(x);var f=x.reduce((function(e,t){return e+t.stockId.price*t.quantity}),0).toFixed(2),v=(f>100?0:10).toFixed(2),m=Number(f);return Object(n.useEffect)((function(){h||t.push("/payment"),o(Or()),o((function(e){e({type:H})})),o((function(e){e({type:J})})),console.log(x),i&&(t.push("/order/".concat(a.orderId)),o({type:Se}))}),[o,i,t]),console.log("hello"),Object(qt.jsxs)("div",{children:[Object(qt.jsx)(Cr,{step1:!0,step2:!0,step3:!0,step4:!0}),!x||O||u||b?Object(qt.jsx)(rr,{}):Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Mt.a,{md:8,children:Object(qt.jsxs)(pr.a,{variant:"flush",children:[Object(qt.jsxs)(pr.a.Item,{children:[Object(qt.jsx)("h2",{children:"Shipping"}),Object(qt.jsxs)("p",{children:[Object(qt.jsx)("strong",{children:"Shipping: "}),p]})]}),Object(qt.jsxs)(pr.a.Item,{children:[Object(qt.jsx)("h2",{children:"Payment Method"}),Object(qt.jsxs)("p",{children:[Object(qt.jsx)("strong",{children:"Method: "}),h]})]}),Object(qt.jsxs)(pr.a.Item,{children:[Object(qt.jsx)("h2",{children:"Order Items"}),x?0===x.length?Object(qt.jsx)(ar,{variant:"info",children:"Your cart is empty"}):Object(qt.jsx)(pr.a,{variant:"flush",children:x.map((function(e){return Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Mt.a,{md:1,children:Object(qt.jsx)(or.a,{src:e.stockId.productId.image,alt:e.stockId.productId.name,fluid:!0,rounded:!0})}),Object(qt.jsx)(Mt.a,{children:Object(qt.jsx)(Tt.Link,{to:"/product/".concat(e.stockId.stockId),children:e.stockId.productId.name})}),Object(qt.jsxs)(Mt.a,{md:4,children:[e.quantity," X \u20b9",e.stockId.price," = \u20b9",(e.quantity*e.stockId.price).toFixed(2)]})]})},e.stockId.stockId)}))}):Object(qt.jsx)(rr,{})]})]})}),Object(qt.jsx)(Mt.a,{md:4,children:Object(qt.jsx)(Zt.a,{children:Object(qt.jsxs)(pr.a,{variant:"flush",children:[Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsx)("h2",{children:"Order Summary"})}),Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Mt.a,{children:"Items:"}),Object(qt.jsxs)(Mt.a,{children:["\u20b9",f]})]})}),Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Mt.a,{children:"Shipping:"}),Object(qt.jsxs)(Mt.a,{children:["\u20b9",v]})]})}),Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Mt.a,{children:"Total:"}),Object(qt.jsxs)(Mt.a,{children:["\u20b9",m]})]})}),c&&Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsx)(ar,{variant:"danger",children:c})}),Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsx)(Qt.a,{type:"button",className:"btn-block",disabled:0===x,onClick:function(){o(function(e){return function(){var t=Object(Ht.a)(Yt.a.mark((function t(r,n){var a,c,s,i,o;return Yt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ge}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json"}},t.next=6,Jt.a.post("/api/orders/add/",{order:e,buyerId:c.buyerId},s);case 6:i=t.sent,o=i.data,r({type:Ie,payload:o}),r({type:z,payload:o}),localStorage.removeItem("cartItems"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:Ee,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()}({cartItems:x,shippingAddress:p,paymentMethod:h,itemsPrice:f,totalPrice:m}))},children:"Place Order"})})]})})})]})]})};r(117);var kr=function(e){var t=e.match,r=e.history,a=t.params.id,c=Object(s.b)(),i=Object(n.useState)(!1),o=Object(Gt.a)(i,2),d=(o[0],o[1]),l=Object(s.c)((function(e){return e.orderDetails})),j=Object(s.c)((function(e){return e.cancelOrder})),u=Object(s.c)((function(e){return e.returnOrder})),p=u.getting,b=(u.succeed,u.mistake,j.wrong,j.fetching),h=(j.success,l.order),O=l.error,x=l.loading,f=Object(s.c)((function(e){return e.orderPay})),v=(f.loading,f.success),m=Object(s.c)((function(e){return e.orderDeliver})),y=(m.loading,m.success),g=Object(s.c)((function(e){return e.userLogin})).userInfo;x||O||(h.itemsPrice=h.items.reduce((function(e,t){return e+t.amount*t.quantity}),0).toFixed(2)),Object(n.useEffect)((function(){g||r.push("/login"),!h||v||h.orderId!==Number(a)||y?(c({type:Ge}),c({type:ze}),c(Er(a))):"Yes"==!h.paid&&(window.paypal?d(!0):function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.paypal.com/sdk/js?client-id=AeDXja18CkwFUkL-HQPySbzZsiTrN52cG13mf9Yz7KiV2vNnGfTDP0wDEN9sGlhZHrbb_USawcJzVDgn",e.async=!0,e.onload=function(){d(!0)},document.body.appendChild(e)}())}),[c,h,a,v,y]);var I=function(e,t){c(function(e,t){return function(){var r=Object(Ht.a)(Yt.a.mark((function r(n,a){var c;return Yt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:Le}),a().userLogin.userInfo,c={headers:{"Content-type":"application/json"}},r.next=6,Jt.a.post("/api/cancel/",{orderedItemId:e,orderId:t},c);case 6:n({type:ke,payload:!0}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),n({type:Te,payload:r.t0.response.data.message});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e,t){return r.apply(this,arguments)}}()}(e,t)),c(Er(t))},E=function(e,t){c(function(e,t){return function(){var r=Object(Ht.a)(Yt.a.mark((function r(n,a){var c;return Yt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:De}),a().userLogin.userInfo,c={headers:{"Content-type":"application/json"}},r.next=6,Jt.a.post("/api/return/",{orderedItemId:e,orderId:t},c);case 6:n({type:we,payload:!0}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),n({type:Ae,payload:r.t0.response.data.message});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e,t){return r.apply(this,arguments)}}()}(e,t)),c(Er(t))};return x||b||p?Object(qt.jsx)(rr,{}):O?Object(qt.jsx)(ar,{variant:"danger",children:O}):Object(qt.jsxs)("div",{children:[Object(qt.jsxs)("h1",{children:["OrderId: ",h.orderId]}),Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Mt.a,{md:9,children:Object(qt.jsxs)(pr.a,{variant:"flush",children:[Object(qt.jsxs)(pr.a.Item,{children:[Object(qt.jsx)("h2",{children:"Shipping"}),Object(qt.jsxs)("p",{children:[Object(qt.jsx)("strong",{children:"Name: "})," ",h.buyerId.name]}),Object(qt.jsxs)("p",{children:[Object(qt.jsx)("strong",{children:"Email: "}),Object(qt.jsx)("a",{href:"mailto:".concat(h.buyerId.email),children:h.buyerId.email})]}),Object(qt.jsxs)("p",{children:[Object(qt.jsx)("strong",{children:"Shipping: "}),h.address]})]}),Object(qt.jsxs)(pr.a.Item,{children:[Object(qt.jsx)("h2",{children:"Payment Method"}),Object(qt.jsxs)("p",{children:[Object(qt.jsx)("strong",{children:"Method: "}),h.paymentMethod]})]}),Object(qt.jsxs)(pr.a.Item,{children:[Object(qt.jsx)("h2",{children:"Order Items"}),0===h.items.length?Object(qt.jsx)(ar,{variant:"info",children:"Order is empty"}):Object(qt.jsx)(pr.a,{variant:"flush",children:h.items.map((function(e){return Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Mt.a,{md:1,children:Object(qt.jsx)(or.a,{src:e.stockId.productId.image,alt:e.stockId.productId.name,fluid:!0,rounded:!0})}),Object(qt.jsx)(Mt.a,{children:Object(qt.jsx)(Tt.Link,{to:"/product/".concat(e.stockId.stockId),children:e.stockId.productId.name})}),Object(qt.jsxs)(Mt.a,{md:3,children:[e.quantity," X \u20b9",e.amount," = \u20b9",(e.quantity*e.amount).toFixed(2)]}),Object(qt.jsx)(Mt.a,{children:e.status}),Object(qt.jsx)(Mt.a,{children:"Delivered"==e.status?Object(qt.jsx)(Qt.a,{type:"button",className:"btn-block",onClick:function(){return E(e.orderedItemId,h.orderId)},children:"Return Order"}):"Cancelled"!=e.status&&"In Return"!=e.status&&Object(qt.jsx)(Qt.a,{type:"button",className:"btn-block",onClick:function(){return I(e.orderedItemId,h.orderId)},children:"Cancel Order"})})]})},e.orderedItemId)}))})]})]})}),Object(qt.jsx)(Mt.a,{md:3,children:Object(qt.jsx)(Zt.a,{children:Object(qt.jsxs)(pr.a,{variant:"flush",children:[Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsx)("h2",{children:"Order Summary"})}),Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Mt.a,{children:"Items:"}),Object(qt.jsxs)(Mt.a,{children:["\u20b9",h.totalAmount]})]})}),Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Mt.a,{children:"Shipping:"}),Object(qt.jsxs)(Mt.a,{children:["\u20b9",0]})]})}),Object(qt.jsx)(pr.a.Item,{children:Object(qt.jsxs)(At.a,{children:[Object(qt.jsx)(Mt.a,{children:"Total:"}),Object(qt.jsxs)(Mt.a,{children:["\u20b9",h.totalAmount]})]})})]})})})]})]})};var Tr=function(e){var t=e.history,r=(e.match,Object(s.b)()),a=Object(s.c)((function(e){return e.productList})),c=a.loading,i=a.error,o=a.products,d=a.pages,l=a.page,j=Object(s.c)((function(e){return e.productDelete})),u=j.loading,p=j.error,b=j.success,h=Object(s.c)((function(e){return e.productCreate})),O=h.loading,x=h.error,S=h.success,C=h.product,R=Object(s.c)((function(e){return e.userLogin})).userInfo,_=t.location.search;Object(n.useEffect)((function(){r({type:E}),R.isAdmin||t.push("/login"),S?t.push("/admin/product/".concat(C._id,"/edit")):r(dr(_))}),[r,t,R,b,S,C,_]);var L=function(e){window.confirm("Are you sure you want to delete this product?")&&r(function(e){return function(){var t=Object(Ht.a)(Yt.a.mark((function t(r,n){var a,c,s;return Yt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:f}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Jt.a.delete("/api/products/delete/".concat(e,"/"),s);case 6:t.sent.data,r({type:v}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:m,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(qt.jsxs)("div",{children:[Object(qt.jsxs)(At.a,{className:"align-items-center",children:[Object(qt.jsx)(Mt.a,{children:Object(qt.jsx)("h1",{children:"Products"})}),Object(qt.jsx)(Mt.a,{className:"text-right",children:Object(qt.jsxs)(Qt.a,{className:"my-3",onClick:function(){r(function(){var e=Object(Ht.a)(Yt.a.mark((function e(t,r){var n,a,c,s,i;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:y}),n=r(),a=n.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=6,Jt.a.post("/api/products/create/",{},c);case 6:s=e.sent,i=s.data,t({type:g,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:I,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())},children:[Object(qt.jsx)("i",{className:"fas fa-plus"})," Create Product"]})})]}),u&&Object(qt.jsx)(rr,{}),p&&Object(qt.jsx)(ar,{variant:"danger",children:p}),O&&Object(qt.jsx)(rr,{}),x&&Object(qt.jsx)(ar,{variant:"danger",children:x}),c?Object(qt.jsx)(rr,{}):i?Object(qt.jsx)(ar,{variant:"danger",children:i}):Object(qt.jsxs)("div",{children:[Object(qt.jsxs)(Ir.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(qt.jsx)("thead",{children:Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("th",{children:"ID"}),Object(qt.jsx)("th",{children:"NAME"}),Object(qt.jsx)("th",{children:"PRICE"}),Object(qt.jsx)("th",{children:"CATEGORY"}),Object(qt.jsx)("th",{children:"BRAND"}),Object(qt.jsx)("th",{})]})}),Object(qt.jsx)("tbody",{children:o.map((function(e){return Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("td",{children:e._id}),Object(qt.jsx)("td",{children:e.name}),Object(qt.jsxs)("td",{children:["$",e.price]}),Object(qt.jsx)("td",{children:e.category}),Object(qt.jsx)("td",{children:e.brand}),Object(qt.jsxs)("td",{children:[Object(qt.jsx)(Nt.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit"),children:Object(qt.jsx)(Qt.a,{variant:"light",className:"btn-sm",children:Object(qt.jsx)("i",{className:"fas fa-edit"})})}),Object(qt.jsx)(Qt.a,{variant:"danger",className:"btn-sm",onClick:function(){return L(e._id)},children:Object(qt.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}),Object(qt.jsx)(sr,{pages:d,page:l,isAdmin:!0})]})]})};var Dr=function(e){var t=e.match,r=e.history,a=t.params.id,c=Object(n.useState)(""),i=Object(Gt.a)(c,2),o=i[0],d=i[1],l=Object(n.useState)(0),j=Object(Gt.a)(l,2),u=j[0],p=j[1],b=Object(n.useState)(""),O=Object(Gt.a)(b,2),x=O[0],f=O[1],v=Object(n.useState)(""),m=Object(Gt.a)(v,2),y=m[0],g=m[1],I=Object(n.useState)(""),E=Object(Gt.a)(I,2),L=E[0],k=E[1],T=Object(n.useState)(0),D=Object(Gt.a)(T,2),w=D[0],A=D[1],U=Object(n.useState)(""),P=Object(Gt.a)(U,2),N=P[0],G=P[1],F=Object(n.useState)(!1),M=Object(Gt.a)(F,2),Q=M[0],q=M[1],V=Object(s.b)(),B=Object(s.c)((function(e){return e.productDetails})),Y=B.error,H=B.loading,K=B.product,J=Object(s.c)((function(e){return e.productUpdate})),z=J.error,W=J.loading,X=J.success;Object(n.useEffect)((function(){X?(V({type:_}),r.push("/admin/productlist")):K.name&&K._id===Number(a)?(d(K.name),p(K.price),f(K.image),g(K.brand),k(K.category),A(K.countInStock),G(K.description)):V(lr(a))}),[V,K,a,r,X]);var Z=function(){var e=Object(Ht.a)(Yt.a.mark((function e(t){var r,n,c,s,i;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(n=new FormData).append("image",r),n.append("product_id",a),q(!0),e.prev=5,c={headers:{"Content-Type":"multipart/form-data"}},e.next=9,Jt.a.post("/api/products/upload/",n,c);case 9:s=e.sent,i=s.data,f(i),q(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),q(!1);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(qt.jsxs)("div",{children:[Object(qt.jsx)(Tt.Link,{to:"/admin/productlist",children:"Go Back"}),Object(qt.jsxs)(fr,{children:[Object(qt.jsx)("h1",{children:"Edit Product"}),W&&Object(qt.jsx)(rr,{}),z&&Object(qt.jsx)(ar,{variant:"danger",children:z}),H?Object(qt.jsx)(rr,{}):Y?Object(qt.jsx)(ar,{variant:"danger",children:Y}):Object(qt.jsxs)(Ft.a,{onSubmit:function(e){e.preventDefault(),V(function(e){return function(){var t=Object(Ht.a)(Yt.a.mark((function t(r,n){var a,c,s,i,o;return Yt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:S}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Jt.a.put("/api/products/update/".concat(e._id,"/"),e,s);case 6:i=t.sent,o=i.data,r({type:C,payload:o}),r({type:h,payload:o}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:R,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:a,name:o,price:u,image:x,brand:y,category:L,countInStock:w,description:N}))},children:[Object(qt.jsxs)(Ft.a.Group,{controlId:"name",children:[Object(qt.jsx)(Ft.a.Label,{children:"Name"}),Object(qt.jsx)(Ft.a.Control,{type:"name",placeholder:"Enter name",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"price",children:[Object(qt.jsx)(Ft.a.Label,{children:"Price"}),Object(qt.jsx)(Ft.a.Control,{type:"number",placeholder:"Enter price",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"image",children:[Object(qt.jsx)(Ft.a.Label,{children:"Image"}),Object(qt.jsx)(Ft.a.Control,{type:"text",placeholder:"Enter image",value:x,onChange:function(e){return f(e.target.value)}}),Object(qt.jsx)(Ft.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:Z}),Q&&Object(qt.jsx)(rr,{})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"brand",children:[Object(qt.jsx)(Ft.a.Label,{children:"Brand"}),Object(qt.jsx)(Ft.a.Control,{type:"text",placeholder:"Enter brand",value:y,onChange:function(e){return g(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"countinstock",children:[Object(qt.jsx)(Ft.a.Label,{children:"Stock"}),Object(qt.jsx)(Ft.a.Control,{type:"number",placeholder:"Enter stock",value:w,onChange:function(e){return A(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"category",children:[Object(qt.jsx)(Ft.a.Label,{children:"Category"}),Object(qt.jsx)(Ft.a.Control,{type:"text",placeholder:"Enter category",value:L,onChange:function(e){return k(e.target.value)}})]}),Object(qt.jsxs)(Ft.a.Group,{controlId:"description",children:[Object(qt.jsx)(Ft.a.Label,{children:"Description"}),Object(qt.jsx)(Ft.a.Control,{type:"text",placeholder:"Enter description",value:N,onChange:function(e){return G(e.target.value)}})]}),Object(qt.jsx)(Qt.a,{type:"submit",variant:"primary",children:"Update"})]})]})]})};var wr=function(e){var t=e.history,r=Object(s.b)(),a=Object(s.c)((function(e){return e.orderList})),c=a.loading,i=a.error,o=a.orders,d=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(n.useEffect)((function(){d&&d.isAdmin?r(function(){var e=Object(Ht.a)(Yt.a.mark((function e(t,r){var n,a,c,s,i;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Ve}),n=r(),a=n.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=6,Jt.a.get("/api/orders/",c);case 6:s=e.sent,i=s.data,t({type:Be,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Ye,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[r,t,d]),Object(qt.jsxs)("div",{children:[Object(qt.jsx)("h1",{children:"Orders"}),c?Object(qt.jsx)(rr,{}):i?Object(qt.jsx)(ar,{variant:"danger",children:i}):Object(qt.jsxs)(Ir.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(qt.jsx)("thead",{children:Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("th",{children:"ID"}),Object(qt.jsx)("th",{children:"USER"}),Object(qt.jsx)("th",{children:"DATE"}),Object(qt.jsx)("th",{children:"Total"}),Object(qt.jsx)("th",{children:"PAID"}),Object(qt.jsx)("th",{children:"DELIVERED"}),Object(qt.jsx)("th",{})]})}),Object(qt.jsx)("tbody",{children:o.map((function(e){return Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("td",{children:e.orderId}),Object(qt.jsx)("td",{children:e.buyerId.name}),Object(qt.jsx)("td",{children:e.orderedAt.substring(0,10)}),Object(qt.jsxs)("td",{children:["$",e.totalAmount]}),Object(qt.jsx)("td",{children:Object(qt.jsx)(Nt.LinkContainer,{to:"/order/".concat(e.orderId),children:Object(qt.jsx)(Qt.a,{variant:"light",className:"btn-sm",children:"Details"})})})]},e.orderId)}))})]})]})};var Ar=function(e){var t=e.history,r=Object(s.b)(),a=Object(s.c)((function(e){return e.verifiedSellers})),c=Object(s.c)((function(e){return e.userLogin})).userInfo,i=a.error,o=a.loading,d=a.verifiedSellers;return Object(n.useEffect)((function(){c||t.push("/"),r(function(){var e=Object(Ht.a)(Yt.a.mark((function e(t){var r,n,a;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Xe}),r={headers:{"Content-type":"application/json"}},e.next=5,Jt.a.get("/api/verifiedsellers/",r);case 5:n=e.sent,a=n.data,t({type:We,payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:Ze,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[r,c]),console.log(d),Object(qt.jsx)("div",{children:o?Object(qt.jsx)(rr,{}):i?Object(qt.jsx)(ar,{variant:"danger",children:i}):d?Object(qt.jsxs)("div",{children:[Object(qt.jsx)("h1",{children:"Verified Sellers"}),Object(qt.jsxs)(Ir.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(qt.jsx)("thead",{children:Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("th",{children:"Name"}),Object(qt.jsx)("th",{children:"Email"}),Object(qt.jsx)("th",{children:"Company"}),Object(qt.jsx)("th",{children:"Remove"})]})}),Object(qt.jsx)("tbody",{children:d.map((function(e){return Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("td",{children:e.name}),Object(qt.jsx)("td",{children:e.email}),Object(qt.jsx)("td",{children:e.company}),Object(qt.jsx)("td",{children:Object(qt.jsx)(Qt.a,{onClick:function(){return r((t=e.sellerId,function(){var e=Object(Ht.a)(Yt.a.mark((function e(r){var n,a,c;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:Xe}),n={headers:{"Content-type":"application/json"}},e.next=5,Jt.a.get("/api/removeseller/".concat(t,"/"),n);case 5:a=e.sent,c=a.data,r({type:We,payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:Ze,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()));var t},children:"Remove"})})]},e.sellerId)}))})]})]}):Object(qt.jsx)("div",{children:Object(qt.jsx)("h1",{children:"HOME"})})})};var Ur=function(e){var t=e.history,r=Object(s.b)(),a=Object(s.c)((function(e){return e.unverifiedSellers})),c=Object(s.c)((function(e){return e.userLogin})).userInfo,i=a.error,o=a.loading,d=a.unverifiedSellers;return Object(n.useEffect)((function(){c||t.push("/"),r(function(){var e=Object(Ht.a)(Yt.a.mark((function e(t){var r,n,a;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:tt}),r={headers:{"Content-type":"application/json"}},e.next=5,Jt.a.get("/api/unverifiedsellers/",r);case 5:n=e.sent,a=n.data,t({type:et,payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:rt,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[r,c]),console.log(d),Object(qt.jsx)("div",{children:o?Object(qt.jsx)(rr,{}):i?Object(qt.jsx)(ar,{variant:"danger",children:i}):d?Object(qt.jsxs)("div",{children:[Object(qt.jsx)("h1",{children:"Unverified Sellers"}),Object(qt.jsxs)(Ir.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(qt.jsx)("thead",{children:Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("th",{children:" Name"}),Object(qt.jsx)("th",{children:"Email"}),Object(qt.jsx)("th",{children:"Company"}),Object(qt.jsx)("th",{children:"Verify"})]})}),Object(qt.jsx)("tbody",{children:d.map((function(e){return Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("td",{children:e.name}),Object(qt.jsx)("td",{children:e.email}),Object(qt.jsx)("td",{children:e.company}),Object(qt.jsx)("td",{children:Object(qt.jsx)(Qt.a,{onClick:function(){return r((t=e.sellerId,function(){var e=Object(Ht.a)(Yt.a.mark((function e(r){var n,a,c;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:tt}),n={headers:{"Content-type":"application/json"}},e.next=5,Jt.a.get("/api/verifyseller/".concat(t,"/"),n);case 5:a=e.sent,c=a.data,r({type:et,payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:rt,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()));var t},children:"Approve"})})]},e.sellerId)}))})]})]}):Object(qt.jsx)("div",{children:Object(qt.jsx)("h1",{children:"Home"})})})};var Pr=function(e){var t=e.history,r=Object(s.b)(),a=Object(s.c)((function(e){return e.deliverProducts})),c=a.error,i=a.loading,o=a.deliverProducts,d=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(n.useEffect)((function(){d||t.push("/"),r(function(){var e=Object(Ht.a)(Yt.a.mark((function e(t){var r,n,a;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:dt}),r={headers:{"Content-type":"application/json"}},e.next=5,Jt.a.get("/api/deliverproducts/",r);case 5:n=e.sent,a=n.data,t({type:ot,payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:lt,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[r,d]),Object(qt.jsx)("div",{children:i?Object(qt.jsx)(rr,{}):c?Object(qt.jsx)(ar,{variant:"danger",children:c}):o?Object(qt.jsxs)("div",{children:[Object(qt.jsx)("h1",{children:"Placed Orders"}),Object(qt.jsxs)(Ir.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(qt.jsx)("thead",{children:Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("th",{children:"Id"}),Object(qt.jsx)("th",{children:"Name"}),Object(qt.jsx)("th",{children:"email"}),Object(qt.jsx)("th",{children:"Deliver"})]})}),Object(qt.jsx)("tbody",{children:o.map((function(e){return Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("td",{children:e.orderedItemId}),Object(qt.jsx)("td",{children:e.orderId.buyerId.name}),Object(qt.jsx)("td",{children:e.orderId.buyerId.email}),Object(qt.jsx)("td",{children:Object(qt.jsx)(Qt.a,{onClick:function(){return r((t=e.orderedItemId,function(){var e=Object(Ht.a)(Yt.a.mark((function e(r){var n,a,c;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:dt}),n={headers:{"Content-type":"application/json"}},e.next=5,Jt.a.get("/api/deliverproduct/".concat(t),n);case 5:a=e.sent,c=a.data,r({type:ot,payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:lt,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()));var t},children:"Delivered"})})]},e.orderedItemId)}))})]})]}):Object(qt.jsx)("div",{children:Object(qt.jsx)("h1",{children:"home"})})})};var Nr=function(e){var t=e.history,r=Object(s.b)(),a=Object(s.c)((function(e){return e.returnProducts})),c=a.error,i=a.loading,o=a.returnProducts,d=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(n.useEffect)((function(){d||t.push("/"),r(function(){var e=Object(Ht.a)(Yt.a.mark((function e(t){var r,n,a;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:pt}),r={headers:{"Content-type":"application/json"}},e.next=5,Jt.a.get("/api/returnproducts/",r);case 5:n=e.sent,a=n.data,t({type:ut,payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:bt,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[r,d]),Object(qt.jsx)("div",{children:i?Object(qt.jsx)(rr,{}):c?Object(qt.jsx)(ar,{variant:"danger",children:c}):o?Object(qt.jsxs)("div",{children:[Object(qt.jsx)("h1",{children:"Delivered Orders"}),Object(qt.jsxs)(Ir.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(qt.jsx)("thead",{children:Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("th",{children:"Id"}),Object(qt.jsx)("th",{children:"Name"}),Object(qt.jsx)("th",{children:"Email"}),Object(qt.jsx)("th",{children:"Return"})]})}),Object(qt.jsx)("tbody",{children:o.map((function(e){return Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("td",{children:e.orderedItemId}),Object(qt.jsx)("td",{children:e.orderId.buyerId.name}),Object(qt.jsx)("td",{children:e.orderId.buyerId.email}),Object(qt.jsx)("td",{children:Object(qt.jsx)(Qt.a,{onClick:function(){return r((t=e.orderedItemId,function(){var e=Object(Ht.a)(Yt.a.mark((function e(r){var n,a,c;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:pt}),n={headers:{"Content-type":"application/json"}},e.next=5,Jt.a.get("/api/returnproduct/".concat(t),n);case 5:a=e.sent,c=a.data,r({type:ut,payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:bt,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()));var t},children:"Returned"})})]},e.orderedItemId)}))})]})]}):Object(qt.jsx)("div",{children:Object(qt.jsx)("h1",{children:"home"})})})};var Gr=function(e){var t=e.history,r=Object(s.b)(),a=Object(n.useState)(""),c=Object(Gt.a)(a,2),i=c[0],o=c[1],d=Object(n.useState)(""),l=Object(Gt.a)(d,2),j=l[0],u=l[1],p=Object(n.useState)("Mobiles"),b=Object(Gt.a)(p,2),h=b[0],O=b[1],x=Object(n.useState)(""),f=Object(Gt.a)(x,2),v=f[0],m=f[1],y=Object(n.useState)(""),g=Object(Gt.a)(y,2),I=g[0],E=g[1],S=Object(n.useState)(""),C=Object(Gt.a)(S,2),R=C[0],_=C[1],L=Object(s.c)((function(e){return e.addNewStocks})),k=Object(s.c)((function(e){return e.userLogin})).userInfo,T=L.error,D=L.loading,w=L.addNewStocks;return Object(n.useEffect)((function(){k||t.push("/"),r(function(){var e=Object(Ht.a)(Yt.a.mark((function e(t){return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:xt}),t({type:Ot,payload:[]})}catch(T){t({type:ft,payload:T.response.data.message})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[r,k]),Object(qt.jsx)("div",{children:D?Object(qt.jsx)(rr,{}):T?Object(qt.jsx)(ar,{variant:"danger",children:T}):w?Object(qt.jsx)("div",{children:Object(qt.jsx)(fr,{children:Object(qt.jsxs)(Ft.a,{onSubmit:function(e){e.preventDefault(),r(function(e,t,r,n,a,c,s){return function(){var i=Object(Ht.a)(Yt.a.mark((function i(o){var d;return Yt.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,o({type:xt}),d={headers:{"Content-type":"application/json"}},i.next=5,Jt.a.post("/api/addnewparticularstock/".concat(e),{Name:t,Brand:r,Category:n,Details:a,Price:c,Quantity:s},d);case 5:i.sent.data,o({type:Ot,payload:[]}),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(0),o({type:ft,payload:i.t0.response.data.message});case 13:case"end":return i.stop()}}),i,null,[[0,10]])})));return function(e){return i.apply(this,arguments)}}()}(k.sellerId,i,j,h,v,I,R)),o(""),u(""),O("Mobiles"),m(""),E(""),_("")},children:[Object(qt.jsxs)(Ft.a.Group,{children:[Object(qt.jsx)(Ft.a.Label,{children:"Name"}),Object(qt.jsx)(Ft.a.Control,{type:"text",placeholder:"Name",value:i,onChange:function(e){return o(e.target.value)}}),Object(qt.jsx)(Ft.a.Label,{children:"Brand"}),Object(qt.jsx)(Ft.a.Control,{type:"text",placeholder:"Brand",value:j,onChange:function(e){return u(e.target.value)}}),Object(qt.jsx)(Ft.a.Label,{children:"Category"}),Object(qt.jsxs)(Ft.a.Control,{as:"select",value:h,onChange:function(e){return O(e.target.value)},children:[Object(qt.jsx)("option",{children:"Mobiles"}),Object(qt.jsx)("option",{children:"Laptops"}),Object(qt.jsx)("option",{children:"Shoes"}),Object(qt.jsx)("option",{children:"Televisions"})]}),Object(qt.jsx)(Ft.a.Label,{children:"Details"}),Object(qt.jsx)(Ft.a.Control,{as:"textarea",type:"text",placeholder:"Details",value:v,onChange:function(e){return m(e.target.value)}}),Object(qt.jsx)(Ft.a.Label,{children:"Price"}),Object(qt.jsx)(Ft.a.Control,{type:"text",placeholder:"Price",value:I,onChange:function(e){return E(e.target.value)}}),Object(qt.jsx)(Ft.a.Label,{children:"Quantity"}),Object(qt.jsx)(Ft.a.Control,{type:"text",placeholder:"Quantity",value:R,onChange:function(e){return _(e.target.value)}})]}),Object(qt.jsx)(Qt.a,{variant:"primary",type:"submit",children:"Add Stock"})]})})}):Object(qt.jsx)("div",{children:Object(qt.jsx)("h1",{children:"HOME"})})})};var Fr=function(e){var t=e.history,r=Object(s.b)(),a=Object(n.useState)(""),c=Object(Gt.a)(a,2),i=c[0],o=c[1],d=Object(n.useState)(""),l=Object(Gt.a)(d,2),j=l[0],u=l[1],p=Object(s.c)((function(e){return e.addOldStocks})),b=Object(s.c)((function(e){return e.userLogin})).userInfo,h=p.error,O=p.loading,x=p.addOldStocks;return Object(n.useEffect)((function(){var e;b||t.push("/"),r((e=b.sellerId,function(){var t=Object(Ht.a)(Yt.a.mark((function t(r){var n,a,c;return Yt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:yt}),n={headers:{"Content-type":"application/json"}},t.next=5,Jt.a.get("/api/addoldstocks/".concat(e),n);case 5:a=t.sent,c=a.data,r({type:mt,payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({type:gt,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()))}),[r,b]),Object(qt.jsx)("div",{children:O?Object(qt.jsx)(rr,{}):h?Object(qt.jsx)(ar,{variant:"danger",children:h}):x?Object(qt.jsxs)("div",{children:[Object(qt.jsx)(kt.a,{children:Object(qt.jsxs)(Ft.a,{onSubmit:function(e){var t,n,a;e.preventDefault(),r((t=b.sellerId,n=i,a=j,function(){var e=Object(Ht.a)(Yt.a.mark((function e(r){var c,s,i;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:yt}),c={headers:{"Content-type":"application/json"}},e.next=5,Jt.a.get("/api/addoldparticularstock/".concat(t,"/").concat(n,"/").concat(a),c);case 5:s=e.sent,i=s.data,r({type:mt,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:gt,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),o(""),u("")},children:[Object(qt.jsx)(Ft.a.Group,{controlId:"stockId",children:Object(qt.jsx)(Ft.a.Control,{type:"text",placeholder:"StockId",value:i,onChange:function(e){return o(e.target.value)}})}),Object(qt.jsx)(Ft.a.Group,{controlId:"quantity",children:Object(qt.jsx)(Ft.a.Control,{type:"text",placeholder:"Quantity",value:j,onChange:function(e){return u(e.target.value)}})}),Object(qt.jsx)(Qt.a,{variant:"primary",type:"submit",children:" Update Stock "})]})}),Object(qt.jsx)("h1",{children:"Existing Stocks"}),Object(qt.jsxs)(Ir.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(qt.jsx)("thead",{children:Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("th",{children:"StockId"}),Object(qt.jsx)("th",{children:"Price"}),Object(qt.jsx)("th",{children:"Last Updated"}),Object(qt.jsx)("th",{children:"Available Quantity"}),Object(qt.jsx)("th",{children:"Total Quantity"})]})}),Object(qt.jsx)("tbody",{children:x.map((function(e){return Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("td",{children:e.stockId}),Object(qt.jsx)("td",{children:e.price}),Object(qt.jsx)("td",{children:e.dateOfAddition.substring(0,10)}),Object(qt.jsx)("td",{children:e.availableQuantity}),Object(qt.jsx)("td",{children:e.totalQuantity})]},e.stockId)}))})]})]}):Object(qt.jsx)("div",{children:Object(qt.jsx)("h1",{children:"HOME"})})})};var Mr=function(e){var t=e.history,r=Object(n.useState)(""),a=Object(Gt.a)(r,2),c=a[0],i=a[1],o=Object(n.useState)(""),d=Object(Gt.a)(o,2),l=d[0],j=d[1],u=Object(n.useState)(""),p=Object(Gt.a)(u,2),b=p[0],h=p[1],O=Object(s.b)(),x=Object(s.c)((function(e){return e.adminsList})),f=x.error,v=x.loading,m=x.adminsList,y=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(n.useEffect)((function(){y||t.push("/"),O(function(){var e=Object(Ht.a)(Yt.a.mark((function e(t){var r,n,a;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ct}),r={headers:{"Content-type":"application/json"}},e.next=5,Jt.a.get("/api/adminslist/",r);case 5:n=e.sent,a=n.data,t({type:at,payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:st,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[O,y]),Object(qt.jsx)("div",{children:v?Object(qt.jsx)(rr,{}):f?Object(qt.jsx)(ar,{variant:"danger",children:f}):m?Object(qt.jsxs)("div",{children:[Object(qt.jsx)(kt.a,{children:Object(qt.jsxs)(Ft.a,{onSubmit:function(e){e.preventDefault(),O(function(e,t,r){return function(){var n=Object(Ht.a)(Yt.a.mark((function n(a){var c,s,i;return Yt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:ct}),c={headers:{"Content-type":"application/json"}},n.next=5,Jt.a.post("/api/addadmin/",{email:t,name:e,phone:r},c);case 5:s=n.sent,i=s.data,a({type:at,payload:i}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:st,payload:n.t0.response.data.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(c,l,b)),i(""),j(""),h("")},children:[Object(qt.jsx)(Ft.a.Group,{controlId:"name",children:Object(qt.jsx)(Ft.a.Control,{type:"text",placeholder:"Name",value:c,onChange:function(e){return i(e.target.value)}})}),Object(qt.jsx)(Ft.a.Group,{controlId:"email",children:Object(qt.jsx)(Ft.a.Control,{type:"text",placeholder:"Email",value:l,onChange:function(e){return j(e.target.value)}})}),Object(qt.jsx)(Ft.a.Group,{controlId:"phone",children:Object(qt.jsx)(Ft.a.Control,{type:"text",placeholder:"Phone number",value:b,onChange:function(e){return h(e.target.value)}})}),Object(qt.jsx)(Qt.a,{variant:"primary",type:"submit",children:" Add Admin "})]})}),Object(qt.jsx)("h1",{children:"Admins"}),Object(qt.jsxs)(Ir.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(qt.jsx)("thead",{children:Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("th",{children:"Name"}),Object(qt.jsx)("th",{children:"Email"}),Object(qt.jsx)("th",{children:"Remove"})]})}),Object(qt.jsx)("tbody",{children:m.map((function(e){return Object(qt.jsxs)("tr",{children:[Object(qt.jsx)("td",{children:e.name}),Object(qt.jsx)("td",{children:e.email}),Object(qt.jsx)("td",{children:Object(qt.jsx)(Qt.a,{onClick:function(){return O((t=e.adminId,function(){var e=Object(Ht.a)(Yt.a.mark((function e(r){var n,a,c;return Yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:ct}),n={headers:{"Content-type":"application/json"}},e.next=5,Jt.a.get("/api/removeadmin/".concat(t,"/"),n);case 5:a=e.sent,c=a.data,r({type:at,payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:st,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()));var t},children:"Remove"})})]},e.adminId)}))})]})]}):Object(qt.jsx)("div",{children:Object(qt.jsx)("h1",{children:"home"})})})};var Qr=function(){return Object(qt.jsxs)(Tt.HashRouter,{children:[Object(qt.jsx)(Wt,{}),Object(qt.jsx)("main",{className:"py-3",children:Object(qt.jsxs)(kt.a,{children:[Object(qt.jsx)(Dt.d,{path:"/",component:ur,exact:!0}),Object(qt.jsx)(Dt.d,{path:"/login",component:vr}),Object(qt.jsx)(Dt.d,{path:"/register",component:gr}),Object(qt.jsx)(Dt.d,{path:"/profile",component:Sr}),Object(qt.jsx)(Dt.d,{path:"/shipping",component:Rr}),Object(qt.jsx)(Dt.d,{path:"/placeorder",component:Lr}),Object(qt.jsx)(Dt.d,{path:"/order/:id",component:kr}),Object(qt.jsx)(Dt.d,{path:"/payment",component:_r}),Object(qt.jsx)(Dt.d,{path:"/product/:id",component:br}),Object(qt.jsx)(Dt.d,{path:"/cart/:id?",component:xr}),Object(qt.jsx)(Dt.d,{path:"/verifiedsellers",component:Ar}),Object(qt.jsx)(Dt.d,{path:"/unverifiedsellers",component:Ur}),Object(qt.jsx)(Dt.d,{path:"/returnproducts",component:Nr}),Object(qt.jsx)(Dt.d,{path:"/deliverproducts",component:Pr}),Object(qt.jsx)(Dt.d,{path:"/addoldstocks",component:Fr}),Object(qt.jsx)(Dt.d,{path:"/addnewstocks",component:Gr}),Object(qt.jsx)(Dt.d,{path:"/admins",component:Mr}),Object(qt.jsx)(Dt.d,{path:"/admin/productlist",component:Tr}),Object(qt.jsx)(Dt.d,{path:"/admin/product/:id/edit",component:Dr}),Object(qt.jsx)(Dt.d,{path:"/admin/orderlist",component:wr})]})}),Object(qt.jsx)(Xt,{})]})},qr=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,138)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};c.a.render(Object(qt.jsx)(s.a,{store:Lt,children:Object(qt.jsx)(Qr,{})}),document.getElementById("root")),qr()},91:function(e,t,r){},92:function(e,t,r){}},[[118,1,2]]]);
//# sourceMappingURL=main.93b790d4.chunk.js.map